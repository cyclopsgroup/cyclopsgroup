<?xml version="1.0" encoding="UTF-8"?>
<document>
    <properties>
        <title>Meta File Sepcfication</title>
        <author email="jiaqi.guo@gmail.com">Jiaqi Guo</author>
    </properties>
    <body>
        <section name="What is meta file">
            <p>Meta file means the META-INF/cyclopsgroup/waterview.xml file in classpath in your proejct.</p>
            <p>
                This file tells the system what does you package(jar file) contribute to a waterview system. It defines
                your GUI package(s), tag libraries and resources. You can think it as plugin.xml file in an eclipse
                plugin, components.xml file in a plexus component or plugin.jelly file in a maven plugin.
            </p>
        </section>
        <section name="Tag Specification">
            <p>The XML name space file meta file is http://waterview.cyclopsgroup.com/definition.</p>
            <subsection name="Waterview">
                <table>
                    <tr>
                        <td>
                            <b>Name</b>
                        </td>
                        <td>Waterview</td>
                    </tr>
                    <tr>
                        <td>
                            <b>Description</b>
                        </td>
                        <td>Root node of meta file</td>
                    </tr>
                    <tr>
                        <td>
                            <b>Children</b>
                        </td>
                        <td>
                            TagLibrary*
                            <br />
                            ModulePackage*
                            <br />
                            IconSet*
                            <br />
                            StyleSheet*
                            <br />
                            Theme*
                        </td>
                    </tr>
                </table>
            </subsection>
            <subsection name="TagLibrary">
                <table>
                    <tr>
                        <td>
                            <b>Name</b>
                        </td>
                        <td>TagLibrary</td>
                    </tr>
                    <tr>
                        <td>
                            <b>Description</b>
                        </td>
                        <td>Jelly Tag Library</td>
                    </tr>
                    <tr>
                        <td>
                            <b>Children</b>
                        </td>
                        <td>TagPackage+</td>
                    </tr>
                </table>
                <b>Attributes</b>
                <table>
                    <tr>
                        <th>Name</th>
                        <th>Required</th>
                        <th>Description</th>
                        <th>Type</th>
                        <th>Example</th>
                    </tr>
                    <tr>
                        <td>uri</td>
                        <td>true</td>
                        <td>URI of the xml namespace</td>
                        <td>string</td>
                        <td>http://www.mycompany.com/myns</td>
                    </tr>
                    <tr>
                        <td>className</td>
                        <td>true</td>
                        <td>Full class name of tag package</td>
                        <td>string</td>
                        <td>com.mycompany.myapp.taglib.MyTagPackage</td>
                    </tr>
                </table>
            </subsection>
            <subsection name="ModulePackage">
                <table>
                    <tr>
                        <td>
                            <b>Name</b>
                        </td>
                        <td>ModulePackage</td>
                    </tr>
                    <tr>
                        <td>
                            <b>Description</b>
                        </td>
                        <td>UI module java package</td>
                    </tr>
                </table>
                <b>Attributes</b>
                <table>
                    <tr>
                        <th>Name</th>
                        <th>Required</th>
                        <th>Description</th>
                        <th>Type</th>
                        <th>Example</th>
                    </tr>
                    <tr>
                        <td>alias</td>
                        <td>true</td>
                        <td>Short package name</td>
                        <td>string</td>
                        <td>myapp</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>true</td>
                        <td>Full java package name for UI</td>
                        <td>string</td>
                        <td>com.mycompany.myapp.ui</td>
                    </tr>
                </table>
            </subsection>
            <subsection name="IconSet">
                <table>
                    <tr>
                        <td>
                            <b>Name</b>
                        </td>
                        <td>IconSet</td>
                    </tr>
                    <tr>
                        <td>
                            <b>Description</b>
                        </td>
                        <td>A set of icons</td>
                    </tr>
                </table>
                <b>Attributes</b>
                <table>
                    <tr>
                        <th>Name</th>
                        <th>Required</th>
                        <th>Description</th>
                        <th>Type</th>
                        <th>Example</th>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>true</td>
                        <td>Unique name of iconset</td>
                        <td>string</td>
                        <td>myiconset</td>
                    </tr>
                    <tr>
                        <td>path</td>
                        <td>true</td>
                        <td>Path in classpath for the iconset resources</td>
                        <td>string</td>
                        <td>/myapp/myiconset</td>
                    </tr>
                    <tr>
                        <td>description</td>
                        <td>false</td>
                        <td>Displayable description for this iconset</td>
                        <td>string</td>
                        <td>Iconset for my application</td>
                    </tr>
                </table>
            </subsection>
        </section>
        <section name="Complete example">
            <p>This is the complete waterview.xml file in waterview package</p>
            <p>
                <source>
                    <![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<Waterview xmlns="http://waterview.cyclopsgroup.com/definition">
    <!-- Tag support -->
    <TagLibrary uri="http://waterview.cyclopsgroup.com/ui">
        <TagPackage
            className="com.cyclopsgroup.waterview.core.taglib.CoreTagPackage" />
        <TagPackage
            className="com.cyclopsgroup.waterview.jelly.taglib.JellyTagPackage" />
        <TagPackage
            className="com.cyclopsgroup.waterview.velocity.taglib.VelocityTagPackage" />
        <TagPackage
            className="com.cyclopsgroup.waterview.jsp.taglib.JspTagPackage" />
        <TagPackage
            className="com.cyclopsgroup.waterview.web.taglib.WebTagPackage" />
    </TagLibrary>
    <!-- UI modules -->
    <ModulePackage alias="waterview" name="com.cyclopsgroup.waterview.ui" />
    <!-- Look and feel -->
    <IconSet name="waterview.icons.default" path="/waterview/defaulttheme"
        description="Waterview default icons" />
    <StyleSheet name="waterview.stylesheet.default"
        path="/waterview/defaulttheme/style.css"
        description="Waterview default stylesheet" />
    <Theme name="waterview.theme.default" iconset="waterview.icons.default"
        stylesheet="waterview.stylesheet.default"
        description="Waterview default theme">
        <Layout name="layout.default">
            <JellyLayout script="/waterview/DefaultLayout.jelly" />
        </Layout>
    </Theme>
</Waterview>]]>
                </source>
            </p>
        </section>
    </body>
</document>